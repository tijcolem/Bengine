Bengine.extensibles.latex=new function(){this.type="latex",this.name="latex",this.category="text",this.upload=!1,this.accept=null;var t=this,e={blocklimit:2097,renderLatex:function(t){var e="$$"+t.textContent+"$$",n=t.parentNode.childNodes[0];n.innerHTML=e,MathJax.Hub.Queue(["Typeset",MathJax.Hub,n])}};this.destroy=function(){},this.fetchDependencies=function(){return[{inner:"",integrity:"",source:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML",type:"text/javascript",wait:"MathJax"},{inner:"MathJax.Hub.Config({tex2jax:{processClass:'latexImage',ignoreClass:'body'},messageStyle:'none'});",integrity:"",source:"",type:"text/x-mathjax-config"}]},this.insertContent=function(n,i){var a=document.createElement("div");a.setAttribute("class","latexImage");var o=document.createElement("div");function r(t,n){8!==n.keyCode&&t.innerText.length>e.blocklimit&&n.preventDefault()}return o.setAttribute("class","xLtx"),o.contentEditable=!0,t.p.emptyObject(i)?t.d.options.defaultText&&(o.innerHTML="LaTeX \\ Mark \\ Up: \\quad \\frac{d}{dx}\\left( \\int_{0}^{x} f(u)\\,du\\right)=f(x)"):o.innerHTML=i.content,o.addEventListener?o.addEventListener("keydown",r.bind(null,n),!1):o.attachEvent?o.attachEvent("onkeydown",r.bind(null,n)):o.onkeydown=r.bind(null,n),o.onpaste=function(t){var n;return window.clipboardData&&window.clipboardData.getData?n=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData&&(n=t.clipboardData.getData("text/plain")),!(this.innerText.length+n.length>e.blocklimit)},n.appendChild(a),n.appendChild(o),n},this.afterDOMinsert=function(t,n){e.renderLatex(document.getElementById(t).childNodes[1])},this.runBlock=function(t){e.renderLatex(document.getElementById(t).childNodes[1])},this.runData=function(t,e){return null},this.saveContent=function(t){return{content:document.getElementById(t).children[1].innerHTML}},this.showContent=function(t,n){var i=document.createElement("div");i.setAttribute("class","latexImage-show");var a=document.createElement("div");return a.setAttribute("class","xLtx"),a.setAttribute("style","display:none;visibility:hidden;"),a.innerHTML=n.content,t.appendChild(i),t.appendChild(a),e.renderLatex(a),t},this.styleBlock=function(){return".xLtx {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 100%;\n\t\t\theight: auto;\n\t\t\tborder: 1px solid black;\n\t\t\tbackground-color: white;\n\n\t\t\tpadding: 8px 6px;\n\t\t\tmargin: 0;\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\t.latexImage, .latexImage-show {\n\t\t\tdisplay: inline-block;\n\t\t\twidth: 100%;\n\t\t\theight: auto;\n\t\t\tborder: 1px solid black;\n\t\t\tbackground-color: white;\n\n\t\t\tpadding: 8px 6px;\n\t\t\tmargin: 0px;\n\t\t\tbox-sizing: border-box;\n\t\t}"}};